(this["webpackJsonpreact-practice"]=this["webpackJsonpreact-practice"]||[]).push([[0],{14:function(e){e.exports=JSON.parse('{"b":[{"period":"\u0421\u0435\u0433\u043e\u0434\u043d\u044f","sum":"0.00"},{"period":"\u041d\u0435\u0434\u0435\u043b\u044f","sum":"0.00"},{"period":"\u041c\u0435\u0441\u044f\u0446","sum":"0.00"}],"c":[{"period":"\u041c\u0435\u0441\u044f\u0446","sum":"0.00"}],"a":[{"period":"\u0412\u0441\u0451 \u0432\u0440\u0435\u043c\u044f","sum":"0.00"}]}')},43:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(29),s=n.n(r),i=(n(43),n(4)),o=n.n(i),u=n(5),l=n(15),j=n(3),b=n(13),d=n.n(b);d.a.defaults.baseURL="http://localhost:3004/";var h=function(){var e=Object(u.a)(o.a.mark((function e(t,n){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.post(t,n);case 3:return a=e.sent,c=a.data,e.abrupt("return",c);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),p=function(){var e=Object(u.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get(t);case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),O=n(0),x=Object(a.createContext)(),m=function(){return Object(a.useContext)(x)},v=function(e){var t=e.children,n=Object(a.useState)("main"),c=Object(j.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)([]),b=Object(j.a)(i,2),d=b[0],h=b[1],m=Object(a.useState)([]),v=Object(j.a)(m,2),g=v[0],f=v[1],y=Object(a.useState)([{id:"diff",title:"\u0420\u0430\u0437\u043d\u043e\u0435"}]),C=Object(j.a)(y,2),k=C[0],w=C[1],S=Object(a.useState)(null),P=Object(j.a)(S,2),T=P[0],A=P[1];return Object(a.useEffect)((function(){console.log("useEffect");var e=function(){var e=Object(u.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p("costs");case 3:return t=e.sent,e.next=6,p("incomes");case 6:n=e.sent,h(t),f(n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),A(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(O.jsx)(x.Provider,{value:{activePage:r,costs:d,incomes:g,categories:k,error:T,setError:A,toggleActivePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";s(e)},addTransaction:function(e){var t=e.dataForm,n=e.transType;"costs"===n&&h((function(e){return[].concat(Object(l.a)(e),[t])})),"incomes"===n&&f((function(e){return[].concat(Object(l.a)(e),[t])}))},addCategory:function(e){w((function(t){return[].concat(Object(l.a)(t),[e])}))}},children:t})},g=function(e){var t=e.title,n=e.options,a=e.btnTitle,c=e.activePage,r=e.openActivePage;return Object(O.jsxs)("section",{children:[Object(O.jsx)("h2",{children:t}),Object(O.jsx)("p",{children:"EUR"}),Object(O.jsx)("button",{onClick:function(){return r(c)},type:"button",children:a}),Object(O.jsx)("ul",{children:n.map((function(e){var t=e.period,n=e.sum;return Object(O.jsxs)("li",{children:[Object(O.jsx)("span",{children:t}),Object(O.jsx)("span",{children:n})]},t)}))})]})},f=function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{type:"button",children:"\u0412\u0441\u0435 \u0440\u0430\u0441\u0445\u043e\u0434\u044b"}),Object(O.jsx)("button",{type:"button",children:"\u0412\u0441\u0435 \u0434\u043e\u0445\u043e\u0434\u044b"})]})},y=n(14),C=function(){var e=m().toggleActivePage;return Object(O.jsxs)("section",{style:{width:"400px",margin:"0 auto"},children:[Object(O.jsx)("h1",{children:"\u0416\u0443\u0440\u043d\u0430\u043b \u0440\u0430\u0441\u0445\u043e\u0434\u043e\u0432"}),Object(O.jsx)(g,{btnTitle:"Add",options:y.b,title:"\u0420\u0430\u0441\u0445\u043e\u0434\u044b",openActivePage:e,activePage:"costs"}),Object(O.jsx)(g,{btnTitle:"Add",options:y.c,title:"\u0414\u043e\u0445\u043e\u0434\u044b",openActivePage:e,activePage:"incomes"}),Object(O.jsx)(g,{btnTitle:"Show",options:y.a,title:"\u0411\u0430\u043b\u0430\u043d\u0441",openActivePage:e,activePage:"balance"}),Object(O.jsx)(f,{})]})},k=n(11),w=n(17),S=n(30),P=n(31),T=n(38),A=n(37),E=function(e){Object(T.a)(n,e);var t=Object(A.a)(n);function n(){var e;Object(S.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={inputValue:"",checkedValue:null},e.handleChange=function(t){e.setState({inputValue:t.target.value})},e.handleSubmit=function(t){t.preventDefault();var n=Date.now();e.props.addCategory({id:n,title:e.state.inputValue})},e.handleCheck=function(t){e.setState({checkedValue:t.target.value})},e}return Object(P.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.inputValue,a=t.checkedValue,c=this.props.categories;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{children:"CategoriesList"}),c.map((function(t){var n=t.id,c=t.title;return console.log(n,a),Object(O.jsxs)("label",{children:[Object(O.jsxs)("p",{children:[" ",c]}),Object(O.jsx)("input",{onChange:e.handleCheck,type:"radio",value:n,name:"category",checked:n===+a})]})})),Object(O.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(O.jsx)("input",{type:"text",placeholder:"\u043d\u043e\u0432\u0430\u044f \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f...",onChange:this.handleChange,value:n}),Object(O.jsx)("button",{type:"submit"})]})]})}}]),n}(a.Component);function _(e){var t=e.title,n=e.type,a=e.placeholder,c=void 0===a?null:a,r=e.handleChange,s=e.name,i=e.handleClick,o=e.value;return Object(O.jsxs)("label",{className:"label",children:[t&&Object(O.jsx)("p",{className:"title",children:t}),Object(O.jsx)("input",{onChange:r,onClick:i,name:s,value:o,className:"input",type:n,placeholder:c})]})}var N,B=n(32),F=n(33).a.form(N||(N=Object(B.a)(['\n  //   background-color: green;\n  .label {\n    color: grey;\n  }\n  .title {\n    font-size: 12px;\n    margin-bottom: 10px;\n  }\n  .input:placeholder {\n    color: grey;\n    text-align: right;\n    font-size: 24px;\n  }\n  .input[type="date"] {\n    color: blue;\n  }\n']))),V=function(e){var t=e.openCategoriesList,n=e.handleChange,a=e.dataForm,c=e.transType,r=m(),s=r.addTransaction,i=r.setError,o=a.date,u=a.time,l=a.category,j=a.sum,b=a.currency,d=a.comment;return Object(O.jsxs)(F,{onSubmit:function(e){e.preventDefault(),h(c,a).then((function(e){return s({dataForm:e,transType:c})})).catch((function(e){return i(e)}))},children:[Object(O.jsx)("button",{type:"submit",children:"OK"}),Object(O.jsx)(_,{name:"date",handleChange:n,title:"\u0414\u0435\u043d\u044c",type:"date",value:o}),Object(O.jsx)(_,{name:"time",handleChange:n,title:"\u0412\u0440\u0435\u043c\u044f",type:"time",value:u}),Object(O.jsx)(_,{name:"category",handleChange:n,title:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",type:"button",handleClick:t,value:l.title}),Object(O.jsx)(_,{name:"sum",handleChange:n,title:"\u0421\u0443\u043c\u043c\u0430",type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0443\u043c\u043c\u0443",value:j}),Object(O.jsx)(_,{name:"currency",handleChange:n,title:"\u0412\u0430\u043b\u044e\u0442\u0430",type:"button",value:b}),Object(O.jsx)(_,{name:"comment",handleChange:n,type:"text",placeholder:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",value:d})]})},G=n(7),L=n.n(G);var D=function(e){var t=e.title,n=e.handleGoBack;return Object(O.jsx)("header",{className:L.a.header,children:Object(O.jsxs)("div",{className:L.a.wrapper,children:[Object(O.jsx)("button",{className:L.a.button,onClick:function(e){return n()},children:"go back"}),Object(O.jsx)("h1",{className:L.a.title,children:t})]})})},H=function(e){var t=e.transType,n=m(),c=n.toggleActivePage,r=n.categories,s=n.addCategory,i=Object(a.useState)(!1),o=Object(j.a)(i,2),u=o[0],l=o[1],b=Object(a.useState)({isOpenCategories:!1,date:"2021-12-10",time:"14:53",category:r[0],sum:"",currency:"EUR",comment:""}),d=Object(j.a)(b,2),h=d[0],p=d[1],x=!u&&("costs"===t?"\u0420\u0430\u0441\u0445\u043e\u0434\u044b":"\u0414\u043e\u0445\u043e\u0434\u044b");return Object(O.jsxs)("section",{style:{width:"400px",margin:"0 auto"},children:[Object(O.jsx)(D,{title:u?"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438":x,handleGoBack:u?function(){l(!1)}:c}),u?Object(O.jsx)(E,{categories:r,addCategory:s}):Object(O.jsx)(V,{handleChange:function(e){var t=e.target,n=t.name,a=t.value;p((function(e){return Object(w.a)(Object(w.a)({},e),{},Object(k.a)({},n,a))}))},openCategoriesList:function(){l(!0)},dataForm:h,transType:t})]})},J=function(){var e=m(),t=e.activePage,n=e.error,c=e.setError;return Object(a.useEffect)((function(){n&&(alert(n),c(null))}),[n,c]),Object(O.jsxs)(O.Fragment,{children:["main"===t&&Object(O.jsx)(C,{}),"costs"===t&&Object(O.jsx)(H,{transType:"costs"}),"incomes"===t&&Object(O.jsx)(H,{transType:"incomes"}),"balance"===t&&Object(O.jsx)("h1",{children:"balance"})]})};s.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(v,{children:Object(O.jsx)(J,{})})}),document.getElementById("root"))},7:function(e,t,n){e.exports={header:"GoBackHeader_header__1Oed8",wrapper:"GoBackHeader_wrapper__3Bvxb",button:"GoBackHeader_button__3ckX6"}}},[[64,1,2]]]);
//# sourceMappingURL=main.de79fed1.chunk.js.map